<!DOCTYPE html> 
<html>
<head>
	<title>Page Title</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="jquery/jquery.mobile-1.4.3.min.css" />
	<script src="jquery/jquery-2.1.1.min.js"></script>
	<script src="jquery/jquery.mobile-1.4.3.min.js"></script>
	<script>
		$(document).ready(function(){

			$( "[data-role='header'], [data-role='footer']" ).toolbar();

			// update toolbar
			$( document ).on( "pageshow", "[data-role='page']", function(event) {
				$( "[data-role='navbar'] a.ui-btn-active" ).removeClass( "ui-btn-active" );
				var active=$(this).attr("id");
				$( "a[href='#"+active+"']" ).addClass( "ui-btn-active" ).text();
				return(false);
			});


			var recepten=[
				{ 
					image: "recept_thumbnail.png",
					ingredienten: [ "paprika", "ui", "tomaat", "kaas", "salami" ],
					titel: "Salami pizza",
					omschrijving: "Blabla pizza met huppelde pup"
				},
				
				{ 
					image: "recept_thumbnail.png",
					ingredienten: [ "ham", "kaas", "brood" ],
					titel: "Tosti",
					omschrijving: "bla bla tostis zijn lekker"
				},				
			]

			// zoek recepten adhv ingredienten:
		    $("#ingredienten").on('focusout keyup' , function(e)
	    	{

	            //gezochte ingredienten
	            var zoek=$(this).val().split(" ");

	            console.log("zoek =", zoek);

	            //resultaten lijst leegmaken
	            $("#gevonden_recepten").empty();

	
	            //TODO: deze functie op een server implementeren en aanroepen via ajax json.
	            //ga alle recepten bij langs
	            for (recept_nr in recepten)
	            {
	            	//ga alle gezochte ingredienten bij langs
	            	for (ingredient_nr in zoek)
	            	{
	            		//bevat het recept dit gezochte ingredient?
	            		if (recepten[recept_nr]["ingredienten"].indexOf(zoek[ingredient_nr]) != -1)
	            		{
	            			//gevonden, maak html en toon op beeld
	            			var gevonden_recept=recepten[recept_nr];

	            			var html="<div>";
	            			html+="<h2>"+gevonden_recept["titel"]+"</h2>";
	            			html+="<img src='"+gevonden_recept["image"]+"'>";
	            			html+="<p>"+gevonden_recept["omschrijving"]+"</p>";
	            			html+="</div>";
	            			console.log(html);
	            			$("#gevonden_recepten").append(html);
	            		}
	            	}
	            }

			});
		});
	</script>
</head>

<body>

    <div data-role="header" data-position="fixed" data-theme="a" >
		<a href="../toolbar/" data-rel="back" class="ui-btn ui-btn-left ui-alt-icon ui-nodisc-icon ui-corner-all ui-btn-icon-notext ui-icon-carat-l">Back</a>
        <h1>Jolo's recepten site</h1>
		<a href="#user" class="ui-btn ui-btn-inline ui-icon-user ui-btn-icon-left">&nbsp;</a>
    </div>


	<div data-role="page" id="recepten"  data-theme="a" >
		<div role="main" class="ui-content">
			<p>Recepten lalalala

			<p>Ingredienten in huis: <input id='ingredienten' type='text'></input>

			<p>Gevonden recepten:<p>
			<div id='gevonden_recepten'>
			</div>
		</div>
	</div>



	<div data-role="page" id="techniek"  data-theme="a">

		<div role="main" class="ui-content">
			<h1>Techniek</h1>

			<ul>
				<li><img src='bla'> <a href='#techniek_1'>Techniek titel 1</a>
				<li><img src='bla'> <a href='#techniek_2'>Techniek titel 2</a>
				<li><img src='bla'> <a href='#techniek_3'>Techniek titel 3</a>
			</ul>
		</div>
	</div>

	<div data-role="page" id="techniek_1"  data-theme="a">

		<div role="main" class="ui-content">
			<h1>Techniek 1</h1>

			<img src='bla'> 
			Uitleg techniek 1
		</div>
	</div>


	<div data-role="page" id="tips"  data-theme="a">

		<div role="main" class="ui-content">
			<h1>Basis kooktips</h1>

			<ul>
				<li><img src='bla'> <a href='#tip_1'>Kooktip titel 1</a>
				<li><img src='bla'> <a href='#tip_2'>Kooktip titel 2</a>
				<li><img src='bla'> <a href='#tip_3'>Kooktip titel 3</a>
			</ul>
		</div>
	</div>


	<div data-role="page" id="tip_1"  data-theme="a">

		<div role="main" class="ui-content">
			<h1>Tip 1</h1>

			<img src='bla'> 
			Uitleg tip 1
		</div>
	</div>



	<div data-role="page" id="basis"  data-theme="a">
		<div role="main" class="ui-content">
			<h1>Basis benodigdheden</h1>
			<p>Bla bla bla 
			<div data-role="tabs" id="tabs" style="border: solid">
			  <div data-role="navbar">
			    <ul>
			      <li><a href="#materialen" data-ajax="false">Materialen</a></li>
			      <li><a href="#voorraad" data-ajax="false">Voorraad</a></li>
			    </ul>
			  </div>
			  <div id="materialen" class="ui-body-d ui-content">
			  	<p>Materialen...bla lblalba blallba
			  </div>
			  <div id="voorraad" class="ui-body-d ui-content">
			  	<p>Vooraad...bla lblalba blallba
			  </div>
			</div>
	</div>



	<div data-role="page" id="user"  data-theme="a">

		<div role="main" class="ui-content">
			<p>User info
		</div>
	</div>

	<div data-role="footer" data-position="fixed" data-theme="a">
		<div data-role="navbar">
			<ul>
				<li><a href="#recepten" >Recepten</a></li>
				<li><a href="#techniek" >Techniek</a></li>
				<li><a href="#tips" >Tips</a></li>
				<li><a href="#basis" >Basis</a></li>
			</ul>
		</div><!-- /navbar -->
	</div><!-- /footer -->


</body>
</html>